/**
 * File defines babel prest for Linaria.
 * It uses ./extract function that is an entry point for styles extraction.
 * It also bypass babel options defined in Linaria config file with it's defaults (see ./utils/loadOptions).
 */
import loadOptions from './utils/loadOptions';
import { debug } from './utils/logger';

function isEnabled(caller) {
  return caller?.name !== 'linaria' || !caller.evaluate;
}

export default function linaria(babel, options) {
  if (!babel.caller(isEnabled)) {
    return {};
  }

  debug('options', JSON.stringify(options));
  return {
    plugins: [[require('./extract'), loadOptions(options)]]
  };
}
//# sourceMappingURL=index.js.map