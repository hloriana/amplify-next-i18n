const glob=require("glob"),path=require("path"),{componentDirectory:componentDirectory,componentsDirectories:componentsDirectories,datasourcesDirectory:datasourcesDirectory}=require("./config");function findComponents(o){const n=path.resolve(process.cwd(),o);return glob.sync(path.join(n,"**","!(_*|*.datasource)*.js")).map(o=>require(path.resolve(n,o)))}function findComponentsWithExt(o){const n=path.resolve(process.cwd(),"./");return glob.sync(path.join(`${n}/{${componentsDirectories.join(",")}}`,"**",`[^_]*.${o}`)).map(o=>require(path.resolve(n,o)))}function findDatasources(){const o=path.resolve(process.cwd(),"./");return glob.sync(path.join(`${o}/${datasourcesDirectory}`,"**","[^_]*.datasource.js")).map(n=>require(path.resolve(o,n)))}const components=findComponents(componentDirectory);function contentTypeComponents(){return components.filter(o=>o.is_root)}function componentByName(o=components,n){return o.find(o=>o.name===n)}module.exports={componentByName:componentByName,components:components,contentTypeComponents:contentTypeComponents,findComponentsWithExt:findComponentsWithExt,findDatasources:findDatasources};