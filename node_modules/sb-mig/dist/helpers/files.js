const fs=require("fs"),ncp=require("ncp").ncp,ora=require("ora"),path=require("path"),Logger=require("./logger"),getCurrentDirectoryBase=()=>path.basename(process.cwd()),isDirectoryExists=e=>fs.existsSync(e),createDir=async e=>{await fs.promises.mkdir(`${process.cwd()}/${e}`,{recursive:!0})},createJsonFile=async(e,r)=>{await fs.promises.writeFile(r,e,{flag:"w"})},copyFolder=async(e,r)=>new Promise((s,i)=>{ncp(e,r,function(r){r&&i({failed:!0,message:`${e} copied unsuccessfully.`}),s({failed:!1,message:`${e} copied successfully.`})})}),copyFile=async(e,r)=>{const s=r.split("/").slice(0,r.split("/").length-1),i=e.split("/")[e.split("/").length-1];isDirectoryExists(s.join("/"))||await createDir(s.join("/")),fs.copyFile(e,r,e=>{if(e)return Logger.error(`There is no file to copy, named ${i}`),console.log(e),!1;console.log(`${i} was copied to ${r}`)})};module.exports={getCurrentDirectoryBase:getCurrentDirectoryBase,isDirectoryExists:isDirectoryExists,createDir:createDir,createJsonFile:createJsonFile,copyFile:copyFile,copyFolder:copyFolder};