const Logger=require("../helpers/logger"),{sleepBlock:sleepBlock}=require("../helpers/sleep"),{spaceId:spaceId}=require("../config"),{sbApi:sbApi}=require("./config"),_resolvePresets=require("./resolvePresets"),updateComponent=(e,o)=>{Logger.log(`Trying to update '${e.name}' with id ${e.id}`),sleepBlock(250);const n=e,{all_presets:s,...r}=n;sbApi.put(`spaces/${spaceId}/components/${e.id}`,{component:r}).then(n=>{Logger.success(`Component '${e.name}' has been updated.`),o&&_resolvePresets(n,s,e)}).catch(o=>{Logger.error("error happened... :("),console.log(`${o.message} in migration of ${e.name} in updateComponent function`)})},createComponent=(e,o)=>{Logger.log(`Trying to create '${e.name}'`),sleepBlock(250);const n=e,{all_presets:s,...r}=n;sbApi.post(`spaces/${spaceId}/components/`,{component:r}).then(n=>{Logger.success(`Component '${e.name}' has been created.`),o&&_resolvePresets(n,s,e)}).catch(o=>{Logger.error("error happened... :("),console.log(`${o.message} in migration of ${e.name} in createComponent function`)})};module.exports={updateComponent:updateComponent,createComponent:createComponent};