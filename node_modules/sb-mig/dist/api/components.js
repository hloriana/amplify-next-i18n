const Logger=require("../helpers/logger"),{sleepBlock:sleepBlock}=require("../helpers/sleep"),{spaceId:spaceId}=require("../config"),{sbApi:sbApi}=require("./config"),getAllComponents=()=>(Logger.log("Trying to get all components."),sbApi.get(`spaces/${spaceId}/components/`).then(e=>e.data).catch(e=>Logger.error(e))),getComponent=e=>(Logger.log(`Trying to get '${e}' component.`),getAllComponents().then(o=>o.components.filter(o=>o.name===e)).then(o=>Array.isArray(o)&&0===o.length?(Logger.warning(`There is no component named '${e}'`),!1):o).catch(e=>Logger.error(e))),getComponentsGroup=e=>(Logger.log(`Trying to get '${e}' group.`),getAllComponentsGroups().then(o=>o.component_groups.filter(o=>o.name===e)).then(o=>Array.isArray(o)&&0===o.length?(Logger.warning(`There is no group named '${e}'`),!1):o).catch(e=>Logger.error(e))),getAllComponentsGroups=async()=>(Logger.log("Trying to get all groups."),sbApi.get(`spaces/${spaceId}/component_groups/`).then(e=>e.data).catch(e=>Logger.error(e))),createComponentsGroup=e=>(Logger.log(`Trying to create '${e}' group`),sleepBlock(250),sbApi.post(`spaces/${spaceId}/component_groups/`,{component_group:{name:e}}).then(o=>(Logger.warning(`'${e}' created with uuid: ${o.data.component_group.uuid}`),o.data)).catch(e=>{Logger.error("Error happened :()")}));module.exports={getComponent:getComponent,getAllComponents:getAllComponents,getComponentsGroup:getComponentsGroup,getAllComponentsGroups:getAllComponentsGroups,createComponentsGroup:createComponentsGroup};